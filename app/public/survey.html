<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Home</title>

  <!--Jquery-->
  <script src="https://code.jquery.com/jquery.js"></script>
  <!-- Latest compiled and minified CSS, Bootstrap 4.0 -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
  <!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

</head>
<body>

  <div class="container">

  <h1>Survey Questions</h1>

    <footer class="footer">
      <div class="container">
        <p><a href="#" id="clear">Reset Friends</a> | <a href="/api/friends">API Friends List</a> | <a href="https://github.com/deevine">GitHub Repo</a></p>
      </div>
      
      <h2>Question 1</h2>
      <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle clickable" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Select an Option
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenu1">
          <button class="dropdown-item" type="button">1 (Strongly Disagree)</button>
          <button class="dropdown-item" type="button">2</button>
          <button class="dropdown-item" type="button">3</button>
          <button class="dropdown-item" type="button">4</button>
          <button class="dropdown-item" type="button">5 (Strongly Agree)</button>
        </div>
      </div>

      <h2>Question 2</h2>
      <h4>I find myself daydreaming often.</h4>
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle clickable" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Select an Option
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
          <button class="dropdown-item" type="button">1 (Strongly Disagree)</button>
          <button class="dropdown-item" type="button">2</button>
          <button class="dropdown-item" type="button">3</button>
          <button class="dropdown-item" type="button">4</button>
          <button class="dropdown-item" type="button">5 (Strongly Agree)</button>
        </div>
      </div>

      <select data-placeholder="" class="chosen-select" id="q1">
      <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>

      <select data-placeholder="" class="chosen-select" id="q2">
      <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>

      <select data-placeholder="" class="chosen-select" id="q3">
      <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>

      <select data-placeholder="" class="chosen-select" id="q4">
      <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>

      <select data-placeholder="" class="chosen-select" id="q5">
      <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>

      <select data-placeholder="" class="chosen-select" id="q6">
      <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>

      <select data-placeholder="" class="chosen-select" id="q7">
      <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>

      <select data-placeholder="" class="chosen-select" id="q8">
      <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>

      <select data-placeholder="" class="chosen-select" id="q9">
      <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>

      <select data-placeholder="" class="chosen-select" id="q10">
      <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>

      <button id = 'submit'>Submit</button>

  

  <!--Modal!-->
  <div class="container">
  <h2>Basic Modal Example</h2>
  <!-- Trigger the modal with a button -->
  <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Open Modal</button>

  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Modal Header</h4>
        </div>
        <div class="modal-body">
          <p id = "modal-text">Some text in the modal.</p>
          <img id = "modal-img" src="http://www.sepeb.com/random-picture/random-picture-013.jpg" height="100" width="100">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>
  
</div>


    </footer>

  </div>


</body>

<script>



  $('#submit').on('click', function(event) {
    event.preventDefault();
    var scoreArray = [];
    scoreArray.push($('#q1').val());
    scoreArray.push($('#q2').val());
    scoreArray.push($('#q3').val());
    scoreArray.push($('#q4').val());
    scoreArray.push($('#q5').val());
    scoreArray.push($('#q6').val());
    scoreArray.push($('#q7').val());
    scoreArray.push($('#q8').val());
    scoreArray.push($('#q9').val());
    scoreArray.push($('#q10').val());
    // $('#myModal').modal('show');

    // for (var i = 0; i < scoreArray.length; i++) {
    //   scoreArray[i] = parseInt(scoreArray[i]);
    // }

    // console.log(scoreArray);
    // console.log('scoreArray[i] = ' + typeof(scoreArray[1]));

    var newSurvey = {
     name: 'new friend',
     photoUrl: 'some photo url',
     scores: scoreArray,
    };
    console.log(newSurvey);

    $.post("/api/friends", newSurvey,
      function(data) {
        // If a table is available... tell user they are booked.
        if (data) {
          alert("Yay! Server returned result!");
          $('#myModal').modal('show');

          console.log(data);

          $('#modal-text').text(data.name);
          $('#modal-img').attr('src', data.photoUrl);

        }

      });

      // This function resets all of the data in our tables. This is intended to let you restart a demo.
      function clearFriends() {

        var currentURL = window.location.origin;
        $.ajax({ url: currentURL + "/api/clear", method: "POST" });

      }

      $("#clear").on("click", function() {
        alert("Reseting to default friends list...");
        clearFriends();

        // Refresh the page after data is cleared
        location.reload();

      });

  });

</script>

</html>
