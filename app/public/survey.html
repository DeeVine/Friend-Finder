<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Home</title>

  <!-- Latest compiled and minified CSS, Bootstrap 4.0 -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

  <script src="https://code.jquery.com/jquery.js"></script>


</head>
<body>

  <div class="container">

  <h1>Survey Questions</h1>

    <footer class="footer">
      <div class="container">
        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/deevine">GitHub Repo</a></p>
      </div>
      
      <h2>Question 1</h2>
      <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle clickable" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Select an Option
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenu1">
          <button class="dropdown-item" type="button">1 (Strongly Disagree)</button>
          <button class="dropdown-item" type="button">2</button>
          <button class="dropdown-item" type="button">3</button>
          <button class="dropdown-item" type="button">4</button>
          <button class="dropdown-item" type="button">5 (Strongly Agree)</button>
        </div>
      </div>

      <h2>Question 2</h2>
      <h4>I find myself daydreaming often.</h4>
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle clickable" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Select an Option
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
          <button class="dropdown-item" type="button">1 (Strongly Disagree)</button>
          <button class="dropdown-item" type="button">2</button>
          <button class="dropdown-item" type="button">3</button>
          <button class="dropdown-item" type="button">4</button>
          <button class="dropdown-item" type="button">5 (Strongly Agree)</button>
        </div>
      </div>

      <select data-placeholder="" class="chosen-select" id="q1">
      <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>

      <select data-placeholder="" class="chosen-select" id="q2">
      <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>

      <select data-placeholder="" class="chosen-select" id="q3">
      <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>

      <button id = 'submit'>Submit</button>


    </footer>

  </div>


</body>

<script>

  $('#submit').on('click', function(event) {
    event.preventDefault();
    var scoreArray = [];
    scoreArray.push($('#q1').val());
    scoreArray.push($('#q2').val());
    scoreArray.push($('#q3').val());
    var newSurvey = {
     name: 'new friend',
     photoUrl: 'some photo url',
     scores: scoreArray
    };
    console.log(newSurvey);

    $.post("/api/friends", newSurvey,
      function(data) {
        // If a table is available... tell user they are booked.
        if (data) {
          alert("Yay! Server returned result!");
        }
      });
  });
   

    // $(".submit").on("click", function(event) {
    //   event.preventDefault();

    //   // Here we grab the form elements
    //   var newSurvey = {
    //     customerName: $("#reserve-name").val().trim(),
    //     phoneNumber: $("#reserve-phone").val().trim(),
    //     customerEmail: $("#reserve-email").val().trim(),
    //     customerID: $("#reserve-unique-id").val().trim()
    //   };

    //   console.log(newSurvey);

    //   // This line is the magic. It"s very similar to the standard ajax function we used.
    //   // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
    //   // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
    //   // depending on if a tables is available or not.

    //   $.post("/api/tables", newReservation,
    //     function(data) {

    //       // If a table is available... tell user they are booked.
    //       if (data) {
    //         alert("Yay! You are officially booked!");
    //       }

    //       // If a table is available... tell user they on the waiting list.
    //       else {
    //         alert("Sorry you are on the wait list");
    //       }

    //       // Clear the form when submitting
    //       $("#reserve-name").val("");
    //       $("#reserve-phone").val("");
    //       $("#reserve-email").val("");
    //       $("#reserve-unique-id").val("");

    //     });

</script>

</html>
